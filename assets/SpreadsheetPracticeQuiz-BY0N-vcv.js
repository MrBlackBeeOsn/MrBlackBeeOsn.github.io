import{r,j as e}from"./index-OGoBF1rR.js";const A=({questions:s})=>{const[a,u]=r.useState(0),[n,v]=r.useState(0),[N,h]=r.useState(null),[i,m]=r.useState(!1),[x,f]=r.useState(!1),[o,j]=r.useState(Array(s.length).fill(0)),[p,g]=r.useState(Date.now());r.useEffect(()=>{if(!x&&!i){const l=setInterval(()=>{const t=[...o];t[a]=Math.floor((Date.now()-p)/1e3),j(t)},1e3);return()=>clearInterval(l)}},[a,i,x,p,o]);const Q=l=>{if(i)return;h(l),m(!0);const t=s[a];l===t.correctAnswer&&v(n+1);const c=[...o];c[a]=Math.floor((Date.now()-p)/1e3),j(c)},w=()=>{a<s.length-1?(u(a+1),h(null),m(!1),g(Date.now())):f(!0)},S=()=>{a>0&&(u(a-1),h(null),m(!1))},C=()=>{u(0),v(0),h(null),m(!1),f(!1),j(Array(s.length).fill(0)),g(Date.now())},d=s[a],b=o.reduce((l,t)=>l+t,0);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"practice-quiz-container",children:[e.jsx("div",{className:"quiz-content",children:x?e.jsxs("div",{className:"results-container",children:[e.jsx("h2",{children:"Quiz Completed!"}),e.jsxs("div",{className:"results-card",children:[e.jsxs("div",{className:"score-circle",children:[e.jsxs("div",{className:"score-value",children:[n,"/",s.length]}),e.jsxs("div",{className:"score-percent",children:[Math.round(n/s.length*100),"%"]})]}),e.jsxs("div",{className:"results-details",children:[e.jsx("h3",{children:"Your Results"}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"label",children:"Correct Answers:"}),e.jsx("span",{className:"value",children:n})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"label",children:"Incorrect Answers:"}),e.jsx("span",{className:"value",children:s.length-n})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"label",children:"Total Time:"}),e.jsxs("span",{className:"value",children:[b," seconds"]})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"label",children:"Average Time per Question:"}),e.jsxs("span",{className:"value",children:[Math.round(b/s.length)," seconds"]})]})]}),e.jsx("div",{className:"performance-message",children:n===s.length?e.jsx("p",{className:"excellent",children:"Excellent! You have mastered the basics of spreadsheet!"}):n>=s.length*.7?e.jsx("p",{className:"good",children:"Good job! You have a solid understanding of spreadsheet fundamentals."}):n>=s.length*.5?e.jsx("p",{className:"average",children:"Not bad! Review the explanations to improve your understanding."}):e.jsx("p",{className:"needs-improvement",children:"Keep practicing! Review basic spreadsheet concepts and try again."})}),e.jsx("div",{className:"results-actions",children:e.jsx("button",{onClick:C,className:"restart-btn",children:"Restart Quiz"})})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question-card",children:[e.jsx("h2",{className:"question-text",children:d.question}),e.jsx("div",{className:"options-container",children:d.options.map((l,t)=>{let c="option";return i?t===d.correctAnswer?c+=" correct":t===N&&t!==d.correctAnswer&&(c+=" incorrect"):t===N&&(c+=" selected"),e.jsxs("div",{className:c,onClick:()=>Q(t),children:[e.jsx("span",{className:"option-letter",children:String.fromCharCode(65+t)}),e.jsx("span",{className:"option-text",children:l})]},t)})}),i&&e.jsxs("div",{className:"explanation",children:[e.jsx("h3",{children:"Explanation:"}),e.jsx("p",{children:d.explanation}),e.jsxs("div",{className:"navigation",children:[e.jsx("button",{onClick:S,disabled:a===0,className:"nav-btn prev-btn",children:"Previous Question"}),e.jsx("button",{onClick:w,className:"nav-btn next-btn",children:a<s.length-1?"Next Question":"Finish Quiz"})]})]})]})})}),e.jsxs("div",{className:"quiz-info",children:[e.jsxs("div",{className:"progress-section",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${(a+1)/s.length*100}%`}})}),e.jsxs("div",{className:"progress-text",children:["Question ",a+1," of ",s.length]})]}),e.jsxs("div",{className:"stats",children:[e.jsxs("div",{className:"score",children:["Score: ",e.jsx("span",{children:n})]}),e.jsxs("div",{className:"time",children:["Time on this question: ",e.jsxs("span",{children:[o[a],"s"]})]})]})]}),e.jsx("footer",{className:"quiz-footer"})]})})};export{A as S};
